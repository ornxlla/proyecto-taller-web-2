<div>
  <div class="col-lg-2">
    <h4 class="title p-l-8">Tareas</h4>
  </div>
</div>
<hr />

<div class="row justify-content-between m-b-8 align-items-center">
  <div class="col-sm-4 d-flex justify-content-end">
    <button mat-flat-button color="primary" (click)="createTask()">
      Nueva Tarea
    </button>
  </div>
</div>

<mat-card class="cardWithShadow">
  <mat-card-content>
    <div
      class="table-responsive m-t-30 p-l-10"
      *ngIf="dataSource.data.length > 0"
    >
      <table mat-table [dataSource]="dataSource" class="w-100">
        <!-- Column Definitions -->
        <ng-container matColumnDef="titulo">
          <th mat-header-cell *matHeaderCellDef class="text-center">Título</th>
          <td mat-cell *matCellDef="let element" class="text-center">
            {{ element.title }}
          </td>
        </ng-container>

        <ng-container matColumnDef="descripcion">
          <th mat-header-cell *matHeaderCellDef class="text-center">
            Descripción
          </th>
          <td mat-cell *matCellDef="let element" class="text-center">
            {{ element.description }}
          </td>
        </ng-container>

        <ng-container matColumnDef="prioridad">
          <th mat-header-cell *matHeaderCellDef class="text-center">
            Prioridad
          </th>
          <td mat-cell *matCellDef="let element" class="text-center">
            {{ element.priority_id }}
          </td>
        </ng-container>

        <ng-container matColumnDef="creado">
          <th mat-header-cell *matHeaderCellDef class="text-center">
            Fecha Creación
          </th>
          <td mat-cell *matCellDef="let element" class="text-center">
            {{ element.created_at }}
          </td>
        </ng-container>

        <ng-container matColumnDef="estado">
          <th mat-header-cell *matHeaderCellDef class="text-center">Estado</th>
          <td mat-cell *matCellDef="let element" class="text-center">
            {{ element.state_id }}
          </td>
        </ng-container>

        <ng-container matColumnDef="acciones">
          <th mat-header-cell *matHeaderCellDef class="text-center">
            Acciones
          </th>
          <td mat-cell *matCellDef="let element" class="text-center">
            <button mat-icon-button (click)="editar(element.id_task)">
              <mat-icon>edit</mat-icon>
            </button>
          </td>
        </ng-container>

        <!-- Header and Row Declarations -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>
    <mat-paginator
      [pageSizeOptions]="[8, 10, 20]"
      showFirstLastButtons
    ></mat-paginator>
  </mat-card-content>
</mat-card>
